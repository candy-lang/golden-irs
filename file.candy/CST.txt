# CST for module Examples:file
[print] = use "Builtins"
[result, text] = use "Core"

main := { environment ->
  (path,) = environment.arguments

  file = environment.fileSystem.file.open path | result.unwrap
  print "File: {file}"

  bytes = file | environment.fileSystem.file.readToEnd | result.unwrap
  print "Bytes: {bytes}"
  text = bytes | text.fromUtf8 | result.unwrap
  print "Text: {text}"

  file | environment.fileSystem.file.close
  print "File: {file}"
}
