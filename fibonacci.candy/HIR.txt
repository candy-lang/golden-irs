# HIR for module Examples:fibonacci
$use = { (non-fuzzable, but passes on responsibility) $use:relativePath ->
  $use:importedModule = relative to module Examples:fibonacci, use $use:relativePath
}
$0 = $use
$1 = builtinTextConcatenate
$2 = builtinTypeOf
$3 = Text
$4 = builtinEquals
$5 = builtinIfElse
$6 = builtinToDebugText
$7 = "Builtins"
$8 = call $0 with $7
$builtins = $8
$builtins#1 = $builtins
$9 = Nothing
$10 = $use
$11 = builtinTextConcatenate
$12 = builtinTypeOf
$13 = Text
$14 = builtinEquals
$15 = builtinIfElse
$16 = builtinToDebugText
$17 = "Core"
$18 = call $10 with $17
$19 = destructure $18 into [Int: p$0, Result: p$1, ToDebugText: p$2]
$int = p$0
$result = p$1
$toDebugText = p$2
$20 = Nothing
$recursive = { (fuzzable) $recursive:initialArg $recursive:body ->
  $recursive:0 = { (non-fuzzable) $recursive:0:recurse $recursive:0:arg ->
    $recursive:0:0 = { (non-fuzzable) $recursive:0:0:arg ->
      $recursive:0:0:0 = $recursive:0:recurse
      $recursive:0:0:1 = $recursive:0:recurse
      $recursive:0:0:2 = $recursive:0:0:arg
      $recursive:0:0:3 = call $recursive:0:0:0 with $recursive:0:0:1 $recursive:0:0:2
    }
    $recursive:0:rec = $recursive:0:0
    $recursive:0:rec#1 = $recursive:0:rec
    $recursive:0:1 = Nothing
    $recursive:0:2 = $recursive:body
    $recursive:0:3 = $recursive:0:rec#1
    $recursive:0:4 = $recursive:0:arg
    $recursive:0:5 = call $recursive:0:2 with $recursive:0:3 $recursive:0:4
  }
  $recursive:recurse = $recursive:0
  $recursive:recurse#1 = $recursive:recurse
  $recursive:1 = Nothing
  $recursive:2 = $recursive:recurse#1
  $recursive:3 = $recursive:recurse#1
  $recursive:4 = $recursive:initialArg
  $recursive:5 = call $recursive:2 with $recursive:3 $recursive:4
}
$recursive#1 = $recursive
$compareTo = { (fuzzable) $compareTo:valueA $compareTo:valueB ->
  $compareTo:0 = $compareTo:valueA
  $compareTo:1 = "Builtins"
  $compareTo:2 = call $use with $compareTo:1
  $compareTo:3 = builtinStructGet
  $compareTo:4 = StructGet
  $compareTo:5 = call $compareTo:3 with $compareTo:2 $compareTo:4
  $compareTo:6 = $builtins#1
  $compareTo:7 = IntCompareTo
  $compareTo:8 = call $compareTo:5 with $compareTo:6 $compareTo:7
  $compareTo:9 = $compareTo:valueB
  $compareTo:10 = call $compareTo:8 with $compareTo:0 $compareTo:9
  $compareTo:result = $compareTo:10
  $compareTo:result#1 = $compareTo:result
  $compareTo:11 = Nothing
  $compareTo:12 = $compareTo:result#1
}
$compareTo#1 = $compareTo
$isLessThan = { (fuzzable) $isLessThan:valueA $isLessThan:valueB ->
  $isLessThan:0 = "Builtins"
  $isLessThan:1 = call $use with $isLessThan:0
  $isLessThan:2 = builtinStructGet
  $isLessThan:3 = StructGet
  $isLessThan:4 = call $isLessThan:2 with $isLessThan:1 $isLessThan:3
  $isLessThan:5 = $builtins#1
  $isLessThan:6 = Equals
  $isLessThan:7 = call $isLessThan:4 with $isLessThan:5 $isLessThan:6
  $isLessThan:8 = $compareTo#1
  $isLessThan:9 = $isLessThan:valueA
  $isLessThan:10 = $isLessThan:valueB
  $isLessThan:11 = call $isLessThan:8 with $isLessThan:9 $isLessThan:10
  $isLessThan:12 = Less
  $isLessThan:13 = call $isLessThan:7 with $isLessThan:11 $isLessThan:12
}
$isLessThan#1 = $isLessThan
$fibonacci = { (fuzzable) $fibonacci:n ->
  $fibonacci:0 = $recursive#1
  $fibonacci:1 = $fibonacci:n
  $fibonacci:2 = { (non-fuzzable) $fibonacci:2:recurse $fibonacci:2:n ->
    $fibonacci:2:0 = "Builtins"
    $fibonacci:2:1 = call $use with $fibonacci:2:0
    $fibonacci:2:2 = builtinStructGet
    $fibonacci:2:3 = StructGet
    $fibonacci:2:4 = call $fibonacci:2:2 with $fibonacci:2:1 $fibonacci:2:3
    $fibonacci:2:5 = $builtins#1
    $fibonacci:2:6 = IfElse
    $fibonacci:2:7 = call $fibonacci:2:4 with $fibonacci:2:5 $fibonacci:2:6
    $fibonacci:2:8 = $fibonacci:2:n
    $fibonacci:2:9 = $isLessThan#1
    $fibonacci:2:10 = 2
    $fibonacci:2:11 = call $fibonacci:2:9 with $fibonacci:2:8 $fibonacci:2:10
    $fibonacci:2:12 = { (non-fuzzable) ->
      $fibonacci:2:12:0 = $fibonacci:2:n
    }
    $fibonacci:2:13 = { (non-fuzzable) ->
      $fibonacci:2:13:0 = $fibonacci:2:recurse
      $fibonacci:2:13:1 = $fibonacci:2:n
      $fibonacci:2:13:2 = "Builtins"
      $fibonacci:2:13:3 = call $use with $fibonacci:2:13:2
      $fibonacci:2:13:4 = builtinStructGet
      $fibonacci:2:13:5 = StructGet
      $fibonacci:2:13:6 = call $fibonacci:2:13:4 with $fibonacci:2:13:3 $fibonacci:2:13:5
      $fibonacci:2:13:7 = $builtins#1
      $fibonacci:2:13:8 = IntSubtract
      $fibonacci:2:13:9 = call $fibonacci:2:13:6 with $fibonacci:2:13:7 $fibonacci:2:13:8
      $fibonacci:2:13:10 = 1
      $fibonacci:2:13:11 = call $fibonacci:2:13:9 with $fibonacci:2:13:1 $fibonacci:2:13:10
      $fibonacci:2:13:12 = call $fibonacci:2:13:0 with $fibonacci:2:13:11
      $fibonacci:2:13:13 = "Builtins"
      $fibonacci:2:13:14 = call $use with $fibonacci:2:13:13
      $fibonacci:2:13:15 = builtinStructGet
      $fibonacci:2:13:16 = StructGet
      $fibonacci:2:13:17 = call $fibonacci:2:13:15 with $fibonacci:2:13:14 $fibonacci:2:13:16
      $fibonacci:2:13:18 = $builtins#1
      $fibonacci:2:13:19 = IntAdd
      $fibonacci:2:13:20 = call $fibonacci:2:13:17 with $fibonacci:2:13:18 $fibonacci:2:13:19
      $fibonacci:2:13:21 = $fibonacci:2:recurse
      $fibonacci:2:13:22 = $fibonacci:2:n
      $fibonacci:2:13:23 = "Builtins"
      $fibonacci:2:13:24 = call $use with $fibonacci:2:13:23
      $fibonacci:2:13:25 = builtinStructGet
      $fibonacci:2:13:26 = StructGet
      $fibonacci:2:13:27 = call $fibonacci:2:13:25 with $fibonacci:2:13:24 $fibonacci:2:13:26
      $fibonacci:2:13:28 = $builtins#1
      $fibonacci:2:13:29 = IntSubtract
      $fibonacci:2:13:30 = call $fibonacci:2:13:27 with $fibonacci:2:13:28 $fibonacci:2:13:29
      $fibonacci:2:13:31 = 2
      $fibonacci:2:13:32 = call $fibonacci:2:13:30 with $fibonacci:2:13:22 $fibonacci:2:13:31
      $fibonacci:2:13:33 = call $fibonacci:2:13:21 with $fibonacci:2:13:32
      $fibonacci:2:13:34 = call $fibonacci:2:13:20 with $fibonacci:2:13:12 $fibonacci:2:13:33
    }
    $fibonacci:2:14 = call $fibonacci:2:7 with $fibonacci:2:11 $fibonacci:2:12 $fibonacci:2:13
  }
  $fibonacci:3 = call $fibonacci:0 with $fibonacci:1 $fibonacci:2
}
$fibonacci#1 = $fibonacci
$21 = { (non-fuzzable) $21:environment ->
  $21:0 = "Builtins"
  $21:1 = call $use with $21:0
  $21:2 = builtinStructGet
  $21:3 = StructGet
  $21:4 = call $21:2 with $21:1 $21:3
  $21:5 = $21:environment
  $21:6 = Arguments
  $21:7 = call $21:4 with $21:5 $21:6
  $21:8 = $21:7 %
    (p$0,) ->
      $21:8:n = p$0
      $21:8:0 = $21:8:n
      $21:8:1 = "Builtins"
      $21:8:2 = call $use with $21:8:1
      $21:8:3 = builtinStructGet
      $21:8:4 = StructGet
      $21:8:5 = call $21:8:3 with $21:8:2 $21:8:4
      $21:8:6 = $int
      $21:8:7 = Parse
      $21:8:8 = call $21:8:5 with $21:8:6 $21:8:7
      $21:8:9 = call $21:8:8 with $21:8:0
      $21:8:10 = "Builtins"
      $21:8:11 = call $use with $21:8:10
      $21:8:12 = builtinStructGet
      $21:8:13 = StructGet
      $21:8:14 = call $21:8:12 with $21:8:11 $21:8:13
      $21:8:15 = $result
      $21:8:16 = Map
      $21:8:17 = call $21:8:14 with $21:8:15 $21:8:16
      $21:8:18 = { (non-fuzzable) $21:8:18:it ->
        $21:8:18:0 = $fibonacci#1
        $21:8:18:1 = $21:8:18:it
        $21:8:18:2 = call $21:8:18:0 with $21:8:18:1
        $21:8:18:3 = $toDebugText
        $21:8:18:4 = call $21:8:18:3 with $21:8:18:2
      }
      $21:8:19 = call $21:8:17 with $21:8:9 $21:8:18
      $21:8:20 = "Builtins"
      $21:8:21 = call $use with $21:8:20
      $21:8:22 = builtinStructGet
      $21:8:23 = StructGet
      $21:8:24 = call $21:8:22 with $21:8:21 $21:8:23
      $21:8:25 = $result
      $21:8:26 = GetValue
      $21:8:27 = call $21:8:24 with $21:8:25 $21:8:26
      $21:8:28 = call $21:8:27 with $21:8:19
    p$0 ->
      $21:8:_ = p$0
      $21:8:29 = builtinTextConcatenate
      $21:8:30 = builtinTypeOf
      $21:8:31 = Text
      $21:8:32 = builtinEquals
      $21:8:33 = builtinIfElse
      $21:8:34 = builtinToDebugText
      $21:8:35 = "Usage: `cargo run -- run fibonacci.candy -- <number>`"
  $21:9 = "Builtins"
  $21:10 = call $use with $21:9
  $21:11 = builtinStructGet
  $21:12 = StructGet
  $21:13 = call $21:11 with $21:10 $21:12
  $21:14 = $21:environment
  $21:15 = Stdout
  $21:16 = call $21:13 with $21:14 $21:15
  $21:17 = call $21:16 with $21:8
}
$main = $21
$main#1 = $main
$22 = Nothing
$23 = Main
$24 = [$23: $main#1]
